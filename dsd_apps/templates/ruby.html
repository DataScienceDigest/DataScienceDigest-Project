{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
        <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-QVH1VPXS3F"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-QVH1VPXS3F');
    </script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8256284122277421"
     crossorigin="anonymous"></script>
    <meta name="csrf-token" content="{{ csrf_token }}">
    <title>Ruby Tutorial and Online Compiler - Data Science Digest</title>
        <!-- Ruby Tutorial -->
    <link rel="canonical" href="https://datasciencedigest.in/ruby-tutorial/" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.33.0/min/vs/loader.min.js"></script>
    <!-- Meta Tags for Ruby Online Compiler Page -->
    <!-- Meta Tags for Ruby Tutorial and Online Compiler Page -->
    <meta name="description"
        content="Learn Ruby programming with our comprehensive tutorial and run Ruby code online with our built-in Ruby editor. Get hands-on experience with coding examples, exercises, and instant code execution directly in your browser.">
    <meta name="keywords"
        content="Ruby tutorial, learn Ruby online, Ruby programming basics, Ruby examples, Ruby exercises, Ruby code execution, online Ruby compiler, run Ruby code online, Ruby programming projects, Ruby web development, Ruby best practices, Ruby for beginners, Ruby libraries, Ruby syntax, Ruby coding challenges, online Ruby course, Ruby tutorials, interactive Ruby coding">
    <meta name="author" content="Data Science Digest">
    <meta name="robots" content="index, follow">
    <meta property="og:title" content="Ruby Programming Tutorial and Online Compiler - Data Science Digest">
    <meta property="og:description"
        content="Master Ruby programming with our in-depth tutorial and test your code instantly with our user-friendly online Ruby compiler. No installation or setup required, just write and execute your Ruby scripts.">
    <meta property="og:url" content="https://datasciencedigest.in/ruby-tutorial">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://datasciencedigest.in/images/ruby-tutorial.png">

    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/content.css' %}"> <!--  css -->
    <script type="application/ld+json">
        {
          "@context": "https://schema.org/",
          "@type": "Course",
          "name": "Ruby Tutorial",
          "description": "Comprehensive Ruby programming tutorial covering basic to advanced topics.",
          "provider": {
            "@type": "Organization",
            "name": "Data Science Digest",
            "url": "https://datasciencedigest.in"
          },
          "publisher": {
            "@type": "Organization",
            "name": "Data Science Digest",
            "url": "https://datasciencedigest.in"
          },
          "image": [
            "https://datasciencedigest.in/photos/1x1/ruby-tutorial.jpg",
            "https://datasciencedigest.in/photos/4x3/ruby-tutorial.jpg",
            "https://datasciencedigest.in/photos/16x9/ruby-tutorial.jpg"
          ],
          "offers": [{
            "@type": "Offer",
            "category": "Free",
            "priceCurrency": "USD",
            "price": "0"
          }],
          "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": 4.6,
            "ratingCount": 2100,
            "reviewCount": 1200
          },
          "totalHistoricalEnrollment": 50000,
          "datePublished": "2024-01-01",
          "dateModified": "2024-09-29",
          "educationalLevel": "Beginner to Advanced",
          "inLanguage": "en",
          "hasCourseInstance": [
            {
              "@type": "CourseInstance",
              "courseMode": "Online",
              "courseWorkload": "P7D",
              "startDate": "2024-08-01",
              "endDate": "2024-08-07",
              "instructor": [{
                "@type": "Person",
                "name": "Emma Wilson",
                "description": "Senior Ruby Developer",
                "image": "https://datasciencedigest.in/photos/instructor-emma.jpg"
              }]
            }
          ],
          "about": ["Ruby Basics", "Ruby on Rails Framework"],
          "teaches": [
            "Learn Ruby programming fundamentals",
            "Master web development with Ruby on Rails"
          ]
        }
        </script>

</head>

<body>
    <h1>Ruby Online Compiler</h1>

    <div class="container">
        <!-- Explanation Section -->
        <div class="intro">
            <h2>Example: Simple Ruby Program</h2>
            <p>Write Ruby code in the editor to the right. Click "Run Code" to execute the program. If your code
                requires input (e.g., `gets`), a prompt will appear asking for user input.</p>
        </div>
        <!-- Compiler Section -->
        <div class="compiler">
            <div id="editorContainer" style="height: 200px;"></div>
            <button onclick="runRubyCode()">Run Code</button>
            <pre id="output" class="output"></pre>
        </div>
    </div>

    <script>
        // Load Monaco Editor
        require.config({ paths: { 'vs': 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.33.0/min/vs' } });
        require(['vs/editor/editor.main'], function () {
            window.editor = monaco.editor.create(document.getElementById('editorContainer'), {
                value: '# Example Ruby code\nputs "Enter your name:"\nname = gets.chomp\nputs "Hello, #{name}!"\n',
                language: 'ruby',
                theme: 'vs-dark',
                automaticLayout: true
            });
        });

        // Function to handle running Ruby code
        async function runRubyCode() {
            const code = window.editor.getValue();
            document.getElementById('output').textContent = 'Running...';

            // Detect number of gets calls in the code
            const inputPatterns = /gets/g;
            const inputMatches = code.match(inputPatterns);  // Find all 'gets' occurrences
            const inputCount = inputMatches ? inputMatches.length : 0;
            let userInputs = [];

            // If the code includes inputs, prompt the user for each input
            for (let i = 0; i < inputCount; i++) {
                let userInput = prompt(`Your code requires input for gets #${i + 1}. Please provide the input:`);
                if (userInput === null) {
                    document.getElementById('output').textContent = 'Execution aborted due to missing input.';
                    return;
                }
                userInputs.push(userInput);
            }

            // Prepare the payload to send to the server
            const payload = {
                code: code,
                inputs: userInputs
            };

            // Send code to Django backend for execution
            try {
                const response = await fetch('/run_ruby_code/', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-CSRFToken': getCSRFToken()
                    },
                    body: JSON.stringify(payload)
                });

                const result = await response.json();
                document.getElementById('output').textContent = result.output || result.error;
            } catch (error) {
                console.error('Error:', error);
                document.getElementById('output').textContent = 'Error executing the code.';
            }
        }

        // Function to get CSRF token
        function getCSRFToken() {
            return document.querySelector('meta[name="csrf-token"]').getAttribute('content');
        }
    </script>
</body>

</html>