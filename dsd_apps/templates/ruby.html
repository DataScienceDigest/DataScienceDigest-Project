{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="google-translate-customization" content="9f841e7780177523-3214ceb76f765f38-gc38c6fe6f9d06436-c">
    </meta>
    <meta name="csrf-token" content="{{ csrf_token }}">
    <title>DataScienceDigest : Online Courses</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="" name="keywords">
    <meta content="" name="description">

    <!-- Favicon -->
    <link href="img/icon.png" rel="icon">

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Heebo:wght@400;500;600&family=Nunito:wght@600;700;800&display=swap"
        rel="stylesheet">

    <!-- Icon Font Stylesheet -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Libraries Stylesheet -->
    <link href="{% static 'lib/animate/animate.min.css' %}" rel="stylesheet">
    <link href="{% static 'lib/owlcarousel/assets/owl.carousel.min.css' %}" rel="stylesheet">

    <!-- Customized Bootstrap Stylesheet -->
    <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">

    <!-- Template Stylesheet -->
    <link href="{% static 'css/style.css' %}" rel="stylesheet">

</head>
<style>
    .tabs ul li {
        list-style-type: none;
    }

    .tabs ul li a {
        font-size: 25px;
        color: #4e4e4e !important;
        font-weight: 500;
    }

    .tabs ul li a.active {
        color: #f69050 !important;
    }

    .tabs ul li a:hover {
        color: #f69050 !important;
    }

    #more {
        display: none;
    }

    button {
        border: none;
        color: #f69050;
    }

    .clickable-span {
        cursor: pointer;
        background-color: #004085;
        /* Changes the cursor to a pointer */
        transition: background-color 0.3s, transform 0.2s;
        /* Smooth hover effect */
    }

    .clickable-span:hover {
        background-color: #004085;
        /* Darker shade for hover effect */
        transform: scale(1.05);
        /* Slightly enlarges on hover */
    }
</style>

<body>
    {% include 'header.html' %}
    <!-- Course Detail Start -->
<div class="container-xxl py-2">
    <div class="container">
        <div class="row">
            <div class="col-lg-12 wow fadeInUp">

                <div class="container">
                    <div class="row g-5 justify-content-center">

                        <div class="col-lg-12 wow fadeInUp" data-wow-delay="0.3s">
                            <h2>Ruby Programming Course for Beginners</h2>
                            <p>Start your programming journey with Ruby — an open-source language known for its elegance and simplicity. This course introduces Ruby’s fundamental concepts, providing essential skills to develop dynamic web applications and scripts.</p>
                        </div>
                    </div>
                </div>
                <div class="container-fluid wow fadeInUp mt-5 tabs">
                    <!-- Tab panes -->
                    <div class="tab-content mt-4">

                        <div class="tab-pane container active" id="Overview">
                            <h2>About this Course</h2>
                            <p>Ruby is a dynamic, reflective, object-oriented programming language that is known for its simplicity and productivity. It is widely used for web development, particularly with the Ruby on Rails framework. In this course, you’ll learn to write clean and efficient Ruby code, explore object-oriented programming principles, and tackle real-world problems with Ruby’s rich ecosystem of libraries. This course covers Ruby basics and offers hands-on practice, preparing you for real-world applications and advanced topics in web development.</p>
                            <h2 class="mt-4">
                                Select Level 
                            </h2>
                            <span class="badge rounded-pill text-white px-4 py-2 m-2 clickable-span"
                                style="font-size: 15px; font-weight: normal;"
                                onclick="loadSection('basic')" id="basic">Basic</span>

                            <span class="badge rounded-pill text-white px-4 py-2 m-2 clickable-span"
                                style="font-size: 15px; font-weight: normal;"
                                onclick="loadSection('medium')" id="medium">Medium</span>

                            <span class="badge rounded-pill text-white px-4 py-2 m-2 clickable-span"
                                style="font-size: 15px; font-weight: normal;"
                                onclick="loadSection('advanced')" id="advanced">Advanced</span>
                        </div>

                        <div class="container" id="sectionContent">
                            <h2 class="mt-4">Syllabus</h2>
                            <div class="accordion accordion-flush" id="accordionFlushExample">
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button"
                                            onclick="loadSection('basic')" data-bs-toggle="collapse"
                                            data-bs-target="#flush-collapseOne" aria-expanded="false"
                                            aria-controls="flush-collapseOne">
                                            Ruby Basics
                                        </button>
                                    </h2>
                                    <div id="flush-collapseOne" class="accordion-collapse collapse"
                                        data-bs-parent="#accordionFlushExample">
                                        <div class="accordion-body" id="basicContent">
                                            <!-- Basic section content will be injected here -->
                                        </div>
                                    </div>
                                </div>
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button"
                                            onclick="loadSection('medium')" data-bs-toggle="collapse"
                                            data-bs-target="#flush-collapseTwo" aria-expanded="false"
                                            aria-controls="flush-collapseTwo">
                                            Medium Level Ruby
                                        </button>
                                    </h2>
                                    <div id="flush-collapseTwo" class="accordion-collapse collapse"
                                        data-bs-parent="#accordionFlushExample">
                                        <div class="accordion-body" id="mediumContent">
                                            <!-- Medium section content will be injected here -->
                                        </div>
                                    </div>
                                </div>
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button"
                                            onclick="loadSection('advanced')" data-bs-toggle="collapse"
                                            data-bs-target="#flush-collapseThree" aria-expanded="false"
                                            aria-controls="flush-collapseThree">
                                            Advanced Ruby
                                        </button>
                                    </h2>
                                    <div id="flush-collapseThree" class="accordion-collapse collapse"
                                        data-bs-parent="#accordionFlushExample">
                                        <div class="accordion-body" id="advancedContent">
                                            <!-- Advanced section content will be injected here -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="container" id="Instructor">
                            <h2 class="mt-4">About the Writer</h2>
                            <div class="image-div text-left mt-4">

                                <div class="des mt-4 mb-5">
                                    Curriculum Director at DataScienceDigest and Creative Technologist. As the Curriculum Director, 
                                    I have designed a variety of courses at DataScienceDigest, including Learn Ruby, Learn Python, Learn SQL, 
                                    and the beginner-friendly Introduction to Data Science. My focus is on creating engaging and practical content 
                                    that empowers learners to build their skills in programming and systems development.
                                </div>
                            </div>
                        </div>

                    </div>

                </div>

            </div>
        </div>
    </div>
</div>
<!-- Course Detail End -->



    <div id="inputModal" class="modal">
        <div class="modal-content">
            <h2 id="modalPromptMessage">Enter Input</h2>
            <input type="text" id="userInput" placeholder="Type your input here...">
            <button onclick="submitInput()">Submit</button>
        </div>
    </div>
    {% include 'footer.html' %}
    <script>
        const editors = {}; // Stores editor instances
        let currentInputResolve = null; // Used for handling input prompts
    
        document.addEventListener("DOMContentLoaded", function () {
            loadSection('basic');  // Load the basic section by default
        });
    
        function loadSection(section) {
            // Clear previous editor instances
            for (let key in editors) {
                editors[key].dispose();
                delete editors[key];
            }
    
            // Clear accordion content
            document.querySelector('#accordionFlushExample').innerHTML = '';
    
            let sectionIntro = '';
            let topics = [];
    
            if (section === 'basic') {
                document.querySelector("#basic").style.backgroundColor = "green";
                document.querySelector("#advanced").style.backgroundColor = "";
                document.querySelector("#medium").style.backgroundColor = "";
                sectionIntro = `<h1>Ruby Basics</h1><p>Learn the basics of Ruby with examples...</p>`;
                topics = [
                    {
                        title: 'Hello World Example',
                        description: 'The simplest Ruby program that prints "Hello, World!".',
                        code: `puts 'Hello, World!'`
                    },
                    {
                        title: 'Basic For Loop',
                        description: 'A "for" loop in Ruby, printing numbers from 0 to 4.',
                        code: `for i in 0..4\n    puts "Number #{i}"\nend`
                    },
                    {
                        title: 'Basic If-Else Condition',
                        description: 'Checking if a number is greater than 5.',
                        code: `number = 10\nif number > 5\n    puts "Number is greater than 5"\nelse\n    puts "Number is less than or equal to 5"\nend`
                    }
                ];
            } else if (section === 'medium') {
                document.querySelector("#basic").style.backgroundColor = "";
                document.querySelector("#advanced").style.backgroundColor = "";
                document.querySelector("#medium").style.backgroundColor = "green";
                sectionIntro = `<h1>Ruby Medium</h1><p>Learn the medium level of Ruby with examples...</p>`;
                topics = [
                    {
                        title: 'Using Arrays',
                        description: 'Creating and modifying an array in Ruby.',
                        code: `numbers = [1, 2, 3]\nnumbers.push(4, 5)\nputs "Numbers: #{numbers}"`
                    },
                    {
                        title: 'Basic String Operations',
                        description: 'Concatenating strings in Ruby.',
                        code: `s = "Hello"\ns += ", world!"\nputs s`
                    }
                ];
            } else if (section === 'advanced') {
                document.querySelector("#basic").style.backgroundColor = "";
                document.querySelector("#medium").style.backgroundColor = "";
                document.querySelector("#advanced").style.backgroundColor = "green";
                sectionIntro = `<h1>Ruby Advanced</h1><p>Explore advanced Ruby concepts with examples...</p>`;
                topics = [
                    {
                        title: 'Using Modules',
                        description: 'Creating and using modules in Ruby.',
                        code: `module Greeting\n    def self.hello\n        puts 'Hello from the module!'\n    end\nend\nGreeting.hello`
                    },
                    {
                        title: 'Concurrency with Threads',
                        description: 'Using threads for concurrent programming in Ruby.',
                        code: `Thread.new do\n    5.times do\n        puts "Hello from thread"\n        sleep(0.5)\n    end\nend\n\nputs "Main thread"\nThread.list.each { |t| t.join unless t == Thread.current }`
                    }
                ];
            }
    
            // Set up accordion content
            let accordionContent = '';
            topics.forEach((topic, index) => {
                accordionContent += `
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button"
                                    data-bs-toggle="collapse" data-bs-target="#flush-collapse${index}"
                                    aria-expanded="false" aria-controls="flush-collapse${index}">
                                ${topic.title}
                            </button>
                        </h2>
                        <div id="flush-collapse${index}" class="accordion-collapse collapse" 
                            data-bs-parent="#accordionFlushExample">
                            <div class="accordion-body" style="padding-bottom: 6rem;">
                                <p>${topic.description}</p>
                                <div class="compiler" style="height: 200px; border: 1px solid #ccc;">
                                    <div id="editorContainer${index}" style="height: 200px;"></div>
                                    <button onclick="runCode('editor${index}', 'output${index}')">Run</button>
                                    <div class="output" id="output${index}" style="margin-top: 10px; background: #f4f4f4; padding: 10px;"></div>
                                </div>
                            </div>
                        </div>
                    </div>`;
            });
            document.querySelector('#accordionFlushExample').innerHTML = accordionContent;
    
            require.config({ paths: { 'vs': 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.33.0/min/vs' } });
            require(['vs/editor/editor.main'], function () {
                topics.forEach((topic, index) => {
                    initializeEditor(`editor${index}`, topic.code);
                });
            });
        }
    
        // Function to initialize a Monaco Editor instance for Ruby
        function initializeEditor(editorId, defaultValue) {
            const container = document.getElementById(`editorContainer${editorId.slice(-1)}`);
            if (!editors[editorId]) {
                editors[editorId] = monaco.editor.create(container, {
                    value: defaultValue,
                    language: 'ruby',
                    theme: 'vs-dark',
                    automaticLayout: true
                });
            }
        }
    
        async function runCode(editorId, outputId) {
            const code = editors[editorId].getValue();
            document.getElementById(outputId).textContent = 'Running...';
    
            // Detect the occurrences of Ruby input (e.g., gets) to estimate the number of inputs needed
            const inputPatterns = /gets/g;
            const inputMatches = code.match(inputPatterns) || [];
            const inputs = [];
    
            // Prompt the user for each required input based on the detected `gets` occurrences
            for (let i = 0; i < inputMatches.length; i++) {
                let userInput = prompt(`Enter input ${i + 1}:`);
                if (userInput === null) {
                    document.getElementById(outputId).textContent = 'Execution aborted due to missing input.';
                    return;
                }
                inputs.push(userInput); // Add each input to the array
            }
    
            // Create the payload with the code and multiple inputs
            const payload = {
                code: code,
                inputs: inputs // Send array of inputs to the backend
            };
    
            // Send the code and inputs to the backend
            fetch('/run_ruby_code/', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'X-CSRFToken': getCSRFToken()
                },
                body: JSON.stringify(payload)
            })
            .then(response => response.json())
            .then(data => {
                document.getElementById(outputId).textContent = data.output;
            })
            .catch(error => {
                console.error('Error:', error);
                document.getElementById(outputId).textContent = 'Error executing the code.';
            });
        }
    
        function getCSRFToken() {
            return document.querySelector('meta[name="csrf-token"]').getAttribute('content');
        }
    </script>
    
    
     
</body>

</html>