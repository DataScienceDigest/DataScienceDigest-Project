{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="csrf-token" content="{{ csrf_token }}">
    <meta charset="UTF-8">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8256284122277421"
     crossorigin="anonymous"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scala Programming Tutorial and Online Compiler - Data Science Digest</title>
        
    <!-- Scala Tutorial -->
    <link rel="canonical" href="https://datasciencedigest.in/scala-tutorial/" />
    <!-- Meta Tags for Scala Tutorial and Online Compiler Page -->
    <meta name="description"
        content="Learn Scala programming with our comprehensive tutorial and run Scala code instantly using our free online Scala compiler. Explore functional and object-oriented programming concepts, write and execute Scala programs directly in your browser.">
    <meta name="keywords"
        content="Scala tutorial, learn Scala, Scala programming, Scala for beginners, functional programming in Scala, object-oriented programming in Scala, Scala code execution, Scala online compiler, run Scala code online, compile Scala programs, Scala syntax, Scala functional programming, Scala concurrency, Scala best practices, online Scala course, Scala examples, Scala tutorial for developers, interactive Scala coding">
    <meta name="author" content="Data Science Digest">
    <meta name="robots" content="index, follow">
    <meta property="og:title" content="Scala Programming Tutorial and Online Compiler - Data Science Digest">
    <meta property="og:description"
        content="Master Scala programming with our detailed tutorial and instantly run your Scala code using our online compiler. No setup or installation requiredâ€”learn and test your Scala programs all in one place.">
    <meta property="og:url" content="https://datasciencedigest.in/scala-tutorial">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://datasciencedigest.in/images/scala-tutorial.png">

    <link rel="stylesheet" href="{% static 'css/content.css' %}"> <!--  css -->
    <script type="application/ld+json">
        {
          "@context": "https://schema.org/",
          "@type": "Course",
          "name": "Scala Tutorial",
          "description": "Comprehensive Scala programming tutorial covering functional programming and object-oriented concepts.",
          "provider": {
            "@type": "Organization",
            "name": "Data Science Digest",
            "url": "https://datasciencedigest.in"
          },
          "publisher": {
            "@type": "Organization",
            "name": "Data Science Digest",
            "url": "https://datasciencedigest.in"
          },
          "image": [
            "https://datasciencedigest.in/photos/1x1/scala-tutorial.jpg",
            "https://datasciencedigest.in/photos/4x3/scala-tutorial.jpg",
            "https://datasciencedigest.in/photos/16x9/scala-tutorial.jpg"
          ],
          "offers": [{
            "@type": "Offer",
            "category": "Free",
            "priceCurrency": "USD",
            "price": "0"
          }],
          "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": 4.6,
            "ratingCount": 2000,
            "reviewCount": 850
          },
          "totalHistoricalEnrollment": 35000,
          "datePublished": "2024-01-01",
          "dateModified": "2024-09-29",
          "educationalLevel": "Intermediate to Advanced",
          "inLanguage": "en",
          "hasCourseInstance": [
            {
              "@type": "CourseInstance",
              "courseMode": "Online",
              "courseWorkload": "P10D",
              "startDate": "2024-05-01",
              "endDate": "2024-05-10",
              "instructor": [{
                "@type": "Person",
                "name": "David Martin",
                "description": "Senior Scala Developer",
                "image": "https://datasciencedigest.in/photos/instructor-david.jpg"
              }]
            }
          ],
          "about": ["Functional Programming", "Object-Oriented Programming in Scala"],
          "teaches": [
            "Understand Scala fundamentals",
            "Learn advanced concepts like functional programming and concurrency"
          ]
        }
        </script>
        
</head>
<body>

    <h1>Welcome to the Scala Code Editor</h1>

    <!-- First Section -->
    <div class="container">
        <div class="intro">
            <h2>Introduction to Scala Loops</h2>
            <p>Scala loops allow repeating a block of code. Write and run a Scala loop in the editor on the right.</p>
        </div>

        <div class="compiler">
            <div id="editor1" style="height: 200px;"></div>
            <button onclick="runCode('editor1', 'output1')">Run Code</button>
            <pre id="output1" class="output"></pre>
        </div>
    
        <div class="intro">
            <h2>Scala Functions Example</h2>
            <p>Here, you can try writing a Scala function. Define and run a Scala function in the editor on the right.</p>
        </div>

        <div class="compiler">
            <div id="editor2" style="height: 200px;"></div>
            <button onclick="runCode('editor2', 'output2')">Run Code</button>
            <pre id="output2" class="output"></pre>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/ace.js"></script>

    <script>
        // Initialize Ace Editor for the first section
        var editor1 = ace.edit("editor1");
        editor1.setTheme("ace/theme/monokai");
        editor1.session.setMode("ace/mode/scala");

        // Pre-fill editor1 with default Scala code for loops
        editor1.setValue(`object Main {
            def main(args: Array[String]): Unit = {
                for (i <- 1 to 5) {
                    println(s"Value of i: $i")
                }
            }
        }`, 1);

        // Initialize Ace Editor for the second section
        var editor2 = ace.edit("editor2");
        editor2.setTheme("ace/theme/monokai");
        editor2.session.setMode("ace/mode/scala");

        // Pre-fill editor2 with default Scala function code
        editor2.setValue(`object Main {
            def main(args: Array[String]): Unit = {
                println(add(2, 3))
            }
            
            def add(a: Int, b: Int): Int = {
                a + b
            }
        }`, 1);

        function runCode(editorId, outputId) {
            // Show "Running..." in the output section
            document.getElementById(outputId).textContent = 'Running...';

            // Get CSRF token from the meta tag
            const csrfToken = document.querySelector('meta[name="csrf-token"]').getAttribute('content');

            // Get the code from the specified editor
            var code = ace.edit(editorId).getValue();

            // Detect input requests dynamically (e.g., scala.io.StdIn.readLine())
            var inputRegex = /scala\.io\.StdIn\.(readLine|readInt|readDouble|readFloat|readBoolean|readByte|readShort|readLong|readChar)\(\)/g;
            var matches = [...code.matchAll(inputRegex)];

            // If inputs are detected, prompt the user for inputs dynamically
            var inputs = [];
            if (matches.length > 0) {
                for (var i = 0; i < matches.length; i++) {
                    var inputPrompt = prompt("Please provide input for " + matches[i][0]);

                    // Validate input to ensure it's not null or empty
                    if (inputPrompt === null || inputPrompt.trim() === '') {
                        document.getElementById(outputId).textContent = 'Execution aborted due to missing or invalid input.';
                        return;
                    }

                    inputs.push(inputPrompt);
                }
            }

            // Make a POST request to the backend to execute the Scala code
            fetch('/run_scala_code/', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'X-CSRFToken': csrfToken  // Get CSRF token from meta tag
                },
                body: JSON.stringify({ code: code, inputs: inputs })  // Pass the code and inputs
            })
            .then(response => response.json())
            .then(data => {
                // Display the output or error
                document.getElementById(outputId).textContent = data.output || data.error;
            })
            .catch(error => {
                console.error('Error:', error);
                document.getElementById(outputId).textContent = 'An error occurred while running the code.';
            });
        }

    </script>

</body>
</html>
