{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="google-translate-customization" content="9f841e7780177523-3214ceb76f765f38-gc38c6fe6f9d06436-c">
    </meta>
    <meta name="csrf-token" content="{{ csrf_token }}">
    <title>DataScienceDigest : Online Courses</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="" name="keywords">
    <meta content="" name="description">

    <!-- Favicon -->
    <link href="img/icon.png" rel="icon">

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Heebo:wght@400;500;600&family=Nunito:wght@600;700;800&display=swap"
        rel="stylesheet">

    <!-- Icon Font Stylesheet -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Libraries Stylesheet -->
    <link href="{% static 'lib/animate/animate.min.css' %}" rel="stylesheet">
    <link href="{% static 'lib/owlcarousel/assets/owl.carousel.min.css' %}" rel="stylesheet">

    <!-- Customized Bootstrap Stylesheet -->
    <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">

    <!-- Template Stylesheet -->
    <link href="{% static 'css/style.css' %}" rel="stylesheet">

</head>
<style>
    .tabs ul li {
        list-style-type: none;
    }

    .tabs ul li a {
        font-size: 25px;
        color: #4e4e4e !important;
        font-weight: 500;
    }

    .tabs ul li a.active {
        color: #f69050 !important;
    }

    .tabs ul li a:hover {
        color: #f69050 !important;
    }

    #more {
        display: none;
    }

    button {
        border: none;
        color: #f69050;
    }

    .clickable-span {
        cursor: pointer;
        background-color: #004085;
        /* Changes the cursor to a pointer */
        transition: background-color 0.3s, transform 0.2s;
        /* Smooth hover effect */
    }

    .clickable-span:hover {
        background-color: #004085;
        /* Darker shade for hover effect */
        transform: scale(1.05);
        /* Slightly enlarges on hover */
    }
</style>

<body>
    {% include 'header.html' %}
    <!-- Course Detail Start -->
    <div class="container-xxl py-2">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 wow fadeInUp">

                    <div class="container">
                        <div class="row g-5 justify-content-center">

                            <div class="col-lg-12 wow fadeInUp" data-wow-delay="0.3s">
                                <h2>C Programming Course for Beginners</h2>
                                <p>Start your programming journey with C — a foundational language that has influenced many modern languages and is known for its efficiency and performance. This course introduces C’s fundamental concepts, providing essential skills to create powerful applications.</p>
                            </div>
                        </div>
                    </div>
                    <div class="container-fluid wow fadeInUp mt-5 tabs">
                        <!-- Tab panes -->
                        <div class="tab-content mt-4">

                            <div class="tab-pane container active" id="Overview">
                                <h2>About this Course</h2>
                                <p>C is a versatile programming language developed in the 1970s and remains a crucial language for system programming and applications that require direct hardware manipulation. In this course, you’ll learn to write efficient C code, understand pointers, memory management, and tackle real-world problems using C’s rich standard library. This course covers C basics and provides hands-on practice, preparing you for applications in operating systems, embedded systems, and high-performance applications.</p>
                                <h2 class="mt-4">
                                    Select Level 
                                </h2>
                                <span class="badge rounded-pill text-white px-4 py-2 m-2 clickable-span"
                                    style="font-size: 15px; font-weight: normal;"
                                    onclick="loadSection('basic')" id="basic">Basic</span>

                                <span class="badge rounded-pill text-white px-4 py-2 m-2 clickable-span"
                                    style="font-size: 15px; font-weight: normal;"
                                    onclick="loadSection('medium')" id="medium">Medium</span>

                                <span class="badge rounded-pill text-white px-4 py-2 m-2 clickable-span"
                                    style="font-size: 15px; font-weight: normal;"
                                    onclick="loadSection('advanced')" id="advanced">Advanced</span>
                            </div>

                            <div class="container" id="sectionContent">
                                <h2 class="mt-4">Syllabus</h2>
                                <div class="accordion accordion-flush" id="accordionFlushExample">
                                    <div class="accordion-item">
                                        <h2 class="accordion-header">
                                            <button class="accordion-button collapsed" type="button"
                                                onclick="loadSection('basic')" data-bs-toggle="collapse"
                                                data-bs-target="#flush-collapseOne" aria-expanded="false"
                                                aria-controls="flush-collapseOne">
                                                C Basics
                                            </button>
                                        </h2>
                                        <div id="flush-collapseOne" class="accordion-collapse collapse"
                                            data-bs-parent="#accordionFlushExample">
                                            <div class="accordion-body" id="basicContent">
                                                <!-- Basic section content will be injected here -->
                                            </div>
                                        </div>
                                    </div>
                                    <div class="accordion-item">
                                        <h2 class="accordion-header">
                                            <button class="accordion-button collapsed" type="button"
                                                onclick="loadSection('medium')" data-bs-toggle="collapse"
                                                data-bs-target="#flush-collapseTwo" aria-expanded="false"
                                                aria-controls="flush-collapseTwo">
                                                Medium Level C
                                            </button>
                                        </h2>
                                        <div id="flush-collapseTwo" class="accordion-collapse collapse"
                                            data-bs-parent="#accordionFlushExample">
                                            <div class="accordion-body" id="mediumContent">
                                                <!-- Medium section content will be injected here -->
                                            </div>
                                        </div>
                                    </div>
                                    <div class="accordion-item">
                                        <h2 class="accordion-header">
                                            <button class="accordion-button collapsed" type="button"
                                                onclick="loadSection('advanced')" data-bs-toggle="collapse"
                                                data-bs-target="#flush-collapseThree" aria-expanded="false"
                                                aria-controls="flush-collapseThree">
                                                Advanced C
                                            </button>
                                        </h2>
                                        <div id="flush-collapseThree" class="accordion-collapse collapse"
                                            data-bs-parent="#accordionFlushExample">
                                            <div class="accordion-body" id="advancedContent">
                                                <!-- Advanced section content will be injected here -->
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="container" id="Instructor">
                                <h2 class="mt-4">About the Writer</h2>
                                <div class="image-div text-left mt-4">

                                    <div class="des mt-4 mb-5">
                                        Curriculum Director at DataScienceDigest and Creative Technologist. As the Curriculum Director, 
                                        I have designed a variety of courses at DataScienceDigest, including Learn Python, Learn C, Learn SQL, 
                                        and the beginner-friendly Introduction to Data Science. My focus is on creating engaging and practical content 
                                        that empowers learners to build their skills in programming and systems development.
                                    </div>
                                </div>
                            </div>

                        </div>

                    </div>

                </div>
            </div>
        </div>
    </div>
    <!-- Course Detail End -->



    <div id="inputModal" class="modal">
        <div class="modal-content">
            <h2 id="modalPromptMessage">Enter Input</h2>
            <input type="text" id="userInput" placeholder="Type your input here...">
            <button onclick="submitInput()">Submit</button>
        </div>
    </div>
    {% include 'footer.html' %}
    <script>
        const editors = {}; // Stores editor instances
        let currentInputResolve = null; // Used for handling input prompts
    
        document.addEventListener("DOMContentLoaded", function () {
            loadSection('basic');  // Load the basic section by default
        });
    
        function loadSection(section) {
            // Clear previous editor instances
            for (let key in editors) {
                editors[key].dispose();
                delete editors[key];
            }
    
            // Clear accordion content
            document.querySelector('#accordionFlushExample').innerHTML = '';
    
            let sectionIntro = '';
            let topics = [];
    
            if (section === 'basic') {
                document.querySelector("#basic").style.backgroundColor = "green";
                document.querySelector("#advanced").style.backgroundColor = "";
                document.querySelector("#medium").style.backgroundColor = "";
                sectionIntro = `<h1>C Basics</h1><p>Learn the basics of C with examples...</p>`;
                topics = [
                    {
                        title: 'Hello World Example',
                        description: 'The simplest C program that prints "Hello, World!".',
                        code: `#include <stdio.h>\n\nint main() {\n    printf("Hello, World!\\n");\n    return 0;\n}`
                    },
                    {
                        title: 'Basic For Loop',
                        description: 'A "for" loop in C, printing numbers from 0 to 4.',
                        code: `#include <stdio.h>\n\nint main() {\n    for (int i = 0; i < 5; i++) {\n        printf("Number %d\\n", i);\n    }\n    return 0;\n}`
                    },
                    {
                        title: 'Basic If-Else Condition',
                        description: 'Checking if a number is greater than 5.',
                        code: `#include <stdio.h>\n\nint main() {\n    int number = 10;\n    if (number > 5) {\n        printf("Number is greater than 5\\n");\n    } else {\n        printf("Number is less than or equal to 5\\n");\n    }\n    return 0;\n}`
                    }
                ];
            } else if (section === 'medium') {
                document.querySelector("#basic").style.backgroundColor = "";
                document.querySelector("#advanced").style.backgroundColor = "";
                document.querySelector("#medium").style.backgroundColor = "green";
                sectionIntro = `<h1>C Medium</h1><p>Learn intermediate concepts in C programming...</p>`;
                topics = [
                    {
                        title: 'Using Arrays',
                        description: 'Creating and initializing an array in C.',
                        code: `#include <stdio.h>\n\nint main() {\n    int numbers[] = {1, 2, 3, 4, 5};\n    for (int i = 0; i < 5; i++) {\n        printf("%d ", numbers[i]);\n    }\n    printf("\\n");\n    return 0;\n}`
                    },
                    {
                        title: 'Basic String Operations',
                        description: 'Concatenating strings in C using `strcat` from the `string.h` library.',
                        code: `#include <stdio.h>\n#include <string.h>\n\nint main() {\n    char s1[20] = "Hello";\n    char s2[] = ", world!";\n    strcat(s1, s2);\n    printf("%s\\n", s1);\n    return 0;\n}`
                    },
                    {
                        title: 'Function Example',
                        description: 'Defining and using a simple function to add two integers.',
                        code: `#include <stdio.h>\n\nint add(int a, int b) {\n    return a + b;\n}\n\nint main() {\n    int result = add(3, 5);\n    printf("Sum: %d\\n", result);\n    return 0;\n}`
                    }
                ];
            } else if (section === 'advanced') {
                document.querySelector("#basic").style.backgroundColor = "";
                document.querySelector("#medium").style.backgroundColor = "";
                document.querySelector("#advanced").style.backgroundColor = "green";
                sectionIntro = `<h1>C Advanced</h1><p>Explore advanced C concepts with examples...</p>`;
                topics = [
                    {
                        title: 'Pointers',
                        description: 'Using pointers to manipulate memory addresses in C.',
                        code: `#include <stdio.h>\n\nint main() {\n    int num = 10;\n    int *p = &num;\n    printf("Value of num: %d\\n", *p);\n    *p = 20;\n    printf("New value of num: %d\\n", num);\n    return 0;\n}`
                    },
                    {
                        title: 'Structures',
                        description: 'Defining and using a structure to store multiple data types.',
                        code: `#include <stdio.h>\n\nstruct Person {\n    char name[50];\n    int age;\n};\n\nint main() {\n    struct Person p1 = {"Alice", 30};\n    printf("Name: %s, Age: %d\\n", p1.name, p1.age);\n    return 0;\n}`
                    },
                    {
                        title: 'Dynamic Memory Allocation',
                        description: 'Allocating and freeing memory dynamically with `malloc` and `free`.',
                        code: `#include <stdio.h>\n#include <stdlib.h>\n\nint main() {\n    int *arr = (int*) malloc(5 * sizeof(int));\n    for (int i = 0; i < 5; i++) {\n        arr[i] = i * 2;\n    }\n    for (int i = 0; i < 5; i++) {\n        printf("%d ", arr[i]);\n    }\n    free(arr);\n    printf("\\n");\n    return 0;\n}`
                    }
                ];
            }

    
            // Set up accordion content
            let accordionContent = '';
            topics.forEach((topic, index) => {
                accordionContent += `
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button"
                                    data-bs-toggle="collapse" data-bs-target="#flush-collapse${index}"
                                    aria-expanded="false" aria-controls="flush-collapse${index}">
                                ${topic.title}
                            </button>
                        </h2>
                        <div id="flush-collapse${index}" class="accordion-collapse collapse" 
                            data-bs-parent="#accordionFlushExample">
                            <div class="accordion-body" style="padding-bottom: 6rem;">
                                <p>${topic.description}</p>
                                <div class="compiler" style="height: 200px; border: 1px solid #ccc;">
                                    <div id="editorContainer${index}" style="height: 200px;"></div>
                                    <button onclick="runCode('editor${index}', 'output${index}')">Run</button>
                                    <div class="output" id="output${index}" style="margin-top: 10px; background: #f4f4f4; padding: 10px;"></div>
                                </div>
                            </div>
                        </div>
                    </div>`;
            });
            document.querySelector('#accordionFlushExample').innerHTML = accordionContent;
    
            require.config({ paths: { 'vs': 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.33.0/min/vs' } });
            require(['vs/editor/editor.main'], function () {
                topics.forEach((topic, index) => {
                    initializeEditor(`editor${index}`, topic.code);
                });
            });
        }
    
        // Function to initialize a Monaco Editor instance for C
        function initializeEditor(editorId, defaultValue) {
            const container = document.getElementById(`editorContainer${editorId.slice(-1)}`);
            if (!editors[editorId]) {
                editors[editorId] = monaco.editor.create(container, {
                    value: defaultValue,
                    language: 'c',
                    theme: 'vs-dark',
                    automaticLayout: true
                });
            }
        }
    
        async function runCode(editorId, outputId) {
            const code = editors[editorId].getValue();
            document.getElementById(outputId).textContent = 'Running...';
    
            // Detect the occurrences of C input (e.g., scanf) to estimate the number of inputs needed
            const inputPatterns = /scanf/g;
            const inputMatches = code.match(inputPatterns) || [];
            const inputs = [];
    
            // Prompt the user for each required input based on the detected `scanf` occurrences
            for (let i = 0; i < inputMatches.length; i++) {
                let userInput = prompt(`Enter input ${i + 1}:`);
                if (userInput === null) {
                    document.getElementById(outputId).textContent = 'Execution aborted due to missing input.';
                    return;
                }
                inputs.push(userInput); // Add each input to the array
            }
    
            // Create the payload with the code and multiple inputs
            const payload = {
                code: code,
                inputs: inputs // Send array of inputs to the backend
            };
    
            // Send the code and inputs to the backend
            fetch('/c_run_code/', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'X-CSRFToken': getCSRFToken()
                },
                body: JSON.stringify(payload)
            })
            .then(response => response.json())
            .then(data => {
                document.getElementById(outputId).textContent = data.output;
            })
            .catch(error => {
                console.error('Error:', error);
                document.getElementById(outputId).textContent = 'Error executing the code.';
            });
        }
    
        function getCSRFToken() {
            return document.querySelector('meta[name="csrf-token"]').getAttribute('content');
        }
    </script>
    
</body>

</html>